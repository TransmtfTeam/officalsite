{{template "base" .}}

{{define "content"}}
<div class="auth-page" style="margin-top:0;min-height:100vh">
  <div class="auth-card">
    <div class="auth-logo">
      <div class="auth-logo-text">{{.SiteName}}</div>
    </div>
    <h2 class="auth-title">忘记密码</h2>

    {{if .Flash}}
    <div class="flash {{if .IsError}}flash-err{{else}}flash-ok{{end}}">{{.Flash}}</div>
    {{end}}

    <p style="text-align:center;color:var(--text2);font-size:.9rem;line-height:1.7;margin-bottom:1.2rem">
      输入注册邮箱，我们将发送重置密码链接。
    </p>

    <form method="POST" action="/forgot-password">
      <input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
      {{with .Data}}{{if .Next}}<input type="hidden" name="next" value="{{.Next}}">{{end}}{{end}}
      <div class="form-group">
        <label class="form-label">邮箱</label>
        <input class="form-control" type="email" name="email"
          value="{{with .Data}}{{index . "Email"}}{{end}}" placeholder="请输入注册邮箱地址" required autofocus>
      </div>
      <button class="btn btn-primary" style="width:100%;justify-content:center;margin-top:.5rem" type="submit">发送重置邮件</button>
    </form>

    <p class="auth-footer-link"><a href="/login{{with .Data}}{{if .Next}}?next={{.Next | urlEncode}}{{end}}{{end}}">返回登录</a></p>
  </div>
</div>
{{end}}

