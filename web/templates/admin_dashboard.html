{{template "base" .}}

{{define "content"}}
<div class="panel-wrap">
  <aside class="sidebar">
    <div class="sidebar-section">
      <div class="sidebar-title">管理导航</div>
      <a class="sidebar-link active" href="/admin">概览</a>
      <a class="sidebar-link" href="/admin/users">用户</a>
      <a class="sidebar-link" href="/admin/groups">分组</a>
      <a class="sidebar-link" href="/admin/clients">应用</a>
      <a class="sidebar-link" href="/admin/providers">登录方式</a>
      <a class="sidebar-link" href="/admin/roles">角色</a>
      <a class="sidebar-link" href="/admin/announcements">公告</a>
      <a class="sidebar-link" href="/admin/settings">设置</a>
    </div>
    <div class="sidebar-section">
      <div class="sidebar-title">快速入口</div>
      <a class="sidebar-link" href="/">返回首页</a>
      <a class="sidebar-link" href="/profile">个人资料</a>
      <a class="sidebar-link" href="/member/projects">社区项目</a>
    </div>
  </aside>

  <main class="panel-content">
    <h1 class="panel-title">管理面板</h1>
    <p class="panel-sub">查看平台核心指标并快速进入管理模块。</p>

    {{if .Flash}}
    <div class="flash {{if .IsError}}flash-err{{else}}flash-ok{{end}}">{{.Flash}}</div>
    {{end}}

    {{with .Data}}
    <div class="stats-row">
      <div class="stat-card">
        <div class="stat-num">{{index . "Users"}}</div>
        <div class="stat-label">用户总数</div>
      </div>
      <div class="stat-card">
        <div class="stat-num">{{index . "Clients"}}</div>
        <div class="stat-label">授权登录应用</div>
      </div>
      <div class="stat-card">
        <div class="stat-num">{{index . "Providers"}}</div>
        <div class="stat-label">外部登录方式</div>
      </div>
      <div class="stat-card">
        <div class="stat-num">{{index . "Projects"}}</div>
        <div class="stat-label">团队项目</div>
      </div>
    </div>
    {{end}}

    <div class="cards-grid">
      <div class="info-card">
        <div class="info-card-title">用户管理</div>
        <div class="info-card-body">创建用户、调整角色、启停账户。</div>
        <a class="btn btn-ghost btn-sm" href="/admin/users" style="margin-top:1rem">进入</a>
      </div>
      <div class="info-card">
        <div class="info-card-title">授权登录应用</div>
        <div class="info-card-body">维护授权登录应用与回调地址。</div>
        <a class="btn btn-ghost btn-sm" href="/admin/clients" style="margin-top:1rem">进入</a>
      </div>
      <div class="info-card">
        <div class="info-card-title">外部登录</div>
        <div class="info-card-body">配置各类外部身份提供商登录。</div>
        <a class="btn btn-ghost btn-sm" href="/admin/providers" style="margin-top:1rem">进入</a>
      </div>
      <div class="info-card">
        <div class="info-card-title">角色管理</div>
        <div class="info-card-body">创建自定义角色，补充系统内置角色。</div>
        <a class="btn btn-ghost btn-sm" href="/admin/roles" style="margin-top:1rem">进入</a>
      </div>
      <div class="info-card">
        <div class="info-card-title">应用公告</div>
        <div class="info-card-body">为每个授权登录应用设置公告，用户登录时可见。</div>
        <a class="btn btn-ghost btn-sm" href="/admin/announcements" style="margin-top:1rem">进入</a>
      </div>
      <div class="info-card">
        <div class="info-card-title">站点设置</div>
        <div class="info-card-body">维护网站名称、图标、邮件服务与法律文本。</div>
        <a class="btn btn-ghost btn-sm" href="/admin/settings" style="margin-top:1rem">进入</a>
      </div>
    </div>
  </main>
</div>
{{end}}
