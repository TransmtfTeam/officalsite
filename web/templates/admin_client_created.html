{{template "base" .}}

{{define "content"}}
<div class="panel-wrap">
  <aside class="sidebar">
    <div class="sidebar-section">
      <div class="sidebar-title">Admin</div>
      {{if .CurrentUser.IsAdmin}}
      <a class="sidebar-link" href="/admin">Overview</a>
      <a class="sidebar-link" href="/admin/users">Users</a>
      {{end}}
      <a class="sidebar-link" href="/admin/groups">Groups</a>
      <a class="sidebar-link active" href="/admin/clients">Clients</a>
      {{if .CurrentUser.IsAdmin}}
      <a class="sidebar-link" href="/admin/providers">Providers</a>
      <a class="sidebar-link" href="/admin/roles">Roles</a>
      <a class="sidebar-link" href="/admin/announcements">Announcements</a>
      <a class="sidebar-link" href="/admin/settings">Settings</a>
      {{end}}
    </div>
    <div class="sidebar-section">
      <div class="sidebar-title">Quick Links</div>
      <a class="sidebar-link" href="/">Home</a>
      <a class="sidebar-link" href="/profile">Profile</a>
    </div>
  </aside>

  <main class="panel-content">
    <h1 class="panel-title">Client Created</h1>
    <p class="panel-sub">Save the client credentials now. The secret is shown only once.</p>

    {{with .Data}}
    <div class="detail-section">
      <div class="detail-section-title">Client: {{index . "Name"}}</div>
      <div class="detail-row">
        <div class="detail-key">Client ID</div>
        <div class="detail-val mono">{{index . "NewClientID"}}</div>
      </div>
    </div>

    <div class="secret-box">
      <p style="font-weight:600;margin-bottom:.6rem">Client Secret (shown once)</p>
      <div class="secret-val">{{index . "NewSecret"}}</div>
    </div>

    <div style="margin-top:1.5rem;display:flex;gap:.8rem;flex-wrap:wrap">
      <a class="btn btn-primary" href="/admin/clients/{{index . "NewInternalID"}}">Open client detail</a>
      <a class="btn btn-ghost" href="/admin/clients">Back to clients</a>
    </div>
    {{end}}
  </main>
</div>
{{end}}
